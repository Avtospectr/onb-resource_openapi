# Specification for /product/{id}
post:
    tags: 
        -  Пользователи
    summary: Добавить нового пользователя
    description: |
        Добавляет пользователя в базу данных. Этот эндпоинт используется системой после аутентификации нового пользователя через СМС. У мобильного приложения не будет к нему доступа. 
        Для сохранения информации о пользователе (имя, дата рождения и т.д.) нужно использовать ендпоинт [PATCH /user/{id}](#patch-/user/-id-)
    operationId: adduser
    security: 
        -  OTPSchema: []

    requestBody:
        description: Создание нового пользователя
        required: true
        content:
            "application/json":
                schema:
                    allOf: 
                        - $ref: ../schemas/user.partial.yaml
                        - type: object
                          properties: 
                            phone:
                                type: string
                                description: Телефон
                                example: "+79995553750"
    responses:
        "201":
            description: Созданный пользователь
            content:
                application/json:
                    schema:
                        $ref: "../schemas/user.yaml"
                    examples:
                        user:
                            value:
                                id: "647b8803ae697d4eee1ab5d4"
                                firstName: ""
                                lastName: ""
                                email: ""
                                phone: "+71234567890"
        
        
        401:
            $ref: ../responses/_index.yaml#/401
        403:
            $ref: ../responses/_index.yaml#/403